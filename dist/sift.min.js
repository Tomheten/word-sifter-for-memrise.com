(()=>{"use strict";(new class{constructor(){this.wordToTranslateDelimiter=".............",this.withTranslate=null,this.isStudiedWords=!0}siftWords(){this.withTranslate=confirm("Do want to add translation to words?");let t=this.findWordsOnPage(this.isStudiedWords);this.saveFile(this.createFileData(t))}findWordsOnPage(t){const e=document.body.querySelectorAll(".text-text");let r=Array.from(e).filter((e=>{const r=e.classList.contains("ignored");return t?!r:r}));return Array.from(r).map((t=>({word:this.findWordOrTranslate(t),translation:this.findWordOrTranslate(t,!0)})))}findWordOrTranslate(t,e=!1){const r=`.col_${e?"b":"a"} .text`;return t.querySelector(r).innerText.toLowerCase()}createFileData(t,e=!0){e&&t.sort(((t,e)=>t.word>e.word?1:-1));const r=t.map((t=>{let e=t.word;return this.withTranslate&&(e+=this.wordToTranslateDelimiter+t.translation),e+"\n"})).join("");return"data:application/txt;charset=utf-8,"+encodeURIComponent(r)}saveFile(t){const e=document.createElement("a");e.href=t,e.download=this.createFileName(),e.click()}createFileName(){let t=`${document.querySelector(".level-number").innerText} ${document.querySelector(".progress-box-title").innerText}`;return this.withTranslate&&(t+="_translated"),t.replace(" ","_")+".txt"}}).siftWords()})();